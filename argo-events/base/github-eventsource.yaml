---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: github-access
  namespace: workflow-playground
spec:
  encryptedData:
    secret: AgCCEiJFV93NKCEoKOKCFhSsBldCsLgseUjoOoJJVP4LtVeepWaHTpjwhkBQOF+3PGBfxHfnD63f8VuEc6DLFuwxCqznUBKmccx4vlVd337xAhH64NIGzcquPoQf8mjGr2GspcxOqE2LyCs5liltskNFcvhHO4KbQtVl5awPl5pXDAy6vttmIKEMhUM/E8ZyBK6RJbceGHQN+e9OFYGuNW3qEq1+IXNZdwB7WzHz2dM1Qaxn2MOggQs1qK51aFHZ8K+x1yuuKC7Etq/3/7BSWjNYmKVvwh9+emNaMZhy0bKS5lvGfPyp1uzMmmALbvMduhiO3JrpWtpb8gHPXv4/kC8Mos3tludnduoG6cZACvSOnpt4CKMcmeb6onpQWHrYXTB3JNBpFc3kwx7fHbKJ1XaLZNcJZu0uX1yTil9fweJrhzrlUKqQZCU5qT7VIqy2NHAHz05y+Ja7pX6QWYjkpJMJEveJ/jBmJWqpsAFnHB+u5gPNQ/VinLpzqJXuGdDnMjXc6jCox3EexH21sFWnQv4d7aLTOj910y1NgAIIjSF60KpcshlNfrcrYmHQici/S9547wU7N53C5Bv+6FZeEkXLQRLyA0zWTTwPUrlwjSzVjlkz0TKAd1GSnc1VwOHEckxdd0mBYhOHIgy/7WJBdWRhufQVMUucLYAs3HRM9UWsgD8sAX8YcRIbFvBjZen6bOocc7aciJ77XHNPU1bx5NUsLv6ImAmDQf1hEtc=
    token: AgCyQO297O38C2tTkKAmkMoLQ3B4P5Acv1LvE+iBg73ASt/rOswHtAT+Bw4Oqtv53DvZvtzmeQr5Ln7FUr/199MqAKtrthTehVAEJpyDH4V5Gg1dGoGk+cuTvdjIyoP6LzMOSxsRGo/Ke3qLgoOBCJ/D5u5Jn2N38NbgC4qDUmmw4Dbm+61utqYTN40dAvCqJtU5qJiuOt1dpLhEHLAj9J+iMN2zwSrc8TAs4rwHgLo9hfU/Aoa40rvNAJeFKFLkevHmDfZSCij/k+GfoAbAa+CL1oVJTdgMrxeTlZsUIXuLfbI8yLnzNls0wv5Qw08FLT9993nkhqrPcKfujztiIhABMN3kCdeitn0GMhWxaPbeHPP3ziOD8854WHdrdq3hZdyQiwn8ZmlEIxZf+FhRIfHADdSphd3XwdcfAFqRvEP8+bw/S+PmQr0iUi/1OE+LJAoZimbI90aGfPKoOwXR7UXrgVUH2wRVFq2uuEMFsTNSlxxf01Z+NG4k3V6L8jkS6hRx0XZvejULNv2jUspO3AR2c2XLV9NMDpzC+l/jhEPvYAMP+yT/90XNYK8M1S7I+iyZtHuOBW5UUtgILNVJWqabXZKqH1ulcvCywbo51vCDDoo/O86boJdsH1woJqZ6qVR1CYPHedvr81SwMkqwNSW0ZQ4oC2iiEA3UyggQSznKX0ZZtS3hyYINa+hjNJWvS2G/0GtBNfZRPCbqOCr00B/8LG/2jx22HY6U2nNajRQ3oxBgCuq1F5o+
  template:
    metadata:
      name: github-access
      namespace: workflow-playground
    type: Opaque
---
apiVersion: argoproj.io/v1alpha1
kind: EventSource
metadata:
  name: github
spec:
  service:
    ports:
      - name: internal-repo
        port: 12000
        targetPort: 12000
  github:
    internal-repo:
      repositories:
        - owner: containerly
          names:
            - openapi-ruby-on-rails
      webhook:
        endpoint: /push
        port: "12000"
        method: POST
        # Note:
        # ngrok http http://localhost:12000
        # kubectl port-forward svc/github-eventsource-svc 12000:12000 -n workflow-playground
        url: https://unobjectivized-estelle-intergular.ngrok-free.dev/push
      events:
        - "*"
      apiToken:
        name: github-access
        key: token
      webhookSecret:
        name: github-access
        key: secret
      insecure: false
      active: true
      contentType: json
